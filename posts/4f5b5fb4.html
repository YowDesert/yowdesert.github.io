<!DOCTYPE html><html lang="zh-TW"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>(資料庫系統) Basic SQL (Structured Query Language) | YD's 學習筆記</title><meta name="author" content="YowDesert"><meta name="copyright" content="YowDesert"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="簡短說明：  主題：Basic SQL 本章重點：  SQL 的由來與「關聯模型」差異 SQL 三種語言：DDL &#x2F; DML &#x2F; DCL Schema &#x2F; Catalog &#x2F; CREATE TABLE 資料型態 &amp; Domain 各種 Constraints（PK &#x2F; FK &#x2F; UNIQUE &#x2F; NOT NULL &#x2F; CHECK &#x2F; DEFAULT） 基本查詢：SELECT-FROM-WH">
<meta property="og:type" content="article">
<meta property="og:title" content="(資料庫系統) Basic SQL (Structured Query Language)">
<meta property="og:url" content="https://yowdesert.github.io/posts/4f5b5fb4.html">
<meta property="og:site_name" content="YD&#39;s 學習筆記">
<meta property="og:description" content="簡短說明：  主題：Basic SQL 本章重點：  SQL 的由來與「關聯模型」差異 SQL 三種語言：DDL &#x2F; DML &#x2F; DCL Schema &#x2F; Catalog &#x2F; CREATE TABLE 資料型態 &amp; Domain 各種 Constraints（PK &#x2F; FK &#x2F; UNIQUE &#x2F; NOT NULL &#x2F; CHECK &#x2F; DEFAULT） 基本查詢：SELECT-FROM-WH">
<meta property="og:locale" content="zh_TW">
<meta property="og:image" content="https://yowdesert.github.io/img/butterfly-icon.png">
<meta property="article:published_time" content="2025-12-09T13:16:17.006Z">
<meta property="article:modified_time" content="2025-12-15T13:44:23.137Z">
<meta property="article:author" content="YowDesert">
<meta property="article:tag" content="資料庫系統">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://yowdesert.github.io/img/butterfly-icon.png"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "(資料庫系統) Basic SQL (Structured Query Language)",
  "url": "https://yowdesert.github.io/posts/4f5b5fb4.html",
  "image": "https://yowdesert.github.io/img/butterfly-icon.png",
  "datePublished": "2025-12-09T13:16:17.006Z",
  "dateModified": "2025-12-15T13:44:23.137Z",
  "author": [
    {
      "@type": "Person",
      "name": "YowDesert",
      "url": "https://YowDesert.github.io"
    }
  ]
}</script><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://yowdesert.github.io/posts/4f5b5fb4.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//fonts.googleapis.com" crossorigin=""/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta name="google-site-verification" content="google5c543dcf16a66e3c.html"/><link rel="stylesheet" href="/css/index.css?v=5.5.2"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@7.1.0/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar@0.1.16/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@6.1.4/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script async="async" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script>(adsbygoogle = window.adsbygoogle || []).push({
  google_ad_client: 'ca-pub-5975504062599634',
  enable_page_level_ads: 'true'
});</script><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web&amp;display=swap" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":false,"highlightMacStyle":true},
  copy: {
    success: '複製成功',
    error: '複製失敗',
    noSupport: '瀏覽器不支援'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '剛剛',
    min: '分鐘前',
    hour: '小時前',
    day: '天前',
    month: '個月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"已切換為繁體中文","cht_to_chs":"已切換為簡體中文","day_to_night":"已切換為深色模式","night_to_day":"已切換為淺色模式","bgLight":"#49b1f5","bgDark":"#1f1f1f","position":"bottom-left"},
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.12.0/dist/infinitegrid.min.js',
    buttonText: '載入更多'
  },
  isPhotoFigcaption: false,
  islazyloadPlugin: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '(資料庫系統) Basic SQL (Structured Query Language)',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post'
}</script><meta name="generator" content="Hexo 7.3.0"><link rel="alternate" href="/atom.xml" title="YD's 學習筆記" type="application/atom+xml">
</head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">載入中...</div></div></div><script>(()=>{
  const $loadingBox = document.getElementById('loading-box')
  const $body = document.body
  const preloader = {
    endLoading: () => {
      if ($loadingBox.classList.contains('loaded')) return
      $body.style.overflow = ''
      $loadingBox.classList.add('loaded')
    },
    initLoading: () => {
      $body.style.overflow = 'hidden'
      $loadingBox.classList.remove('loaded')
    }
  }

  preloader.initLoading()

  if (document.readyState === 'complete') {
    preloader.endLoading()
  } else {
    window.addEventListener('load', preloader.endLoading)
    document.addEventListener('DOMContentLoaded', preloader.endLoading)
    // Add timeout protection: force end after 7 seconds
    setTimeout(preloader.endLoading, 7000)
  }

  if (false) {
    btf.addGlobalFn('pjaxSend', preloader.initLoading, 'preloader_init')
    btf.addGlobalFn('pjaxComplete', preloader.endLoading, 'preloader_end')
  }
})()</script><div id="web_bg" style="background-image: url(/img/backgroundPic.jpg);"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="/img/butterfly-icon.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">25</div></a><a href="/tags/"><div class="headline">標籤</div><div class="length-num">16</div></a><a href="/categories/"><div class="headline">分類</div><div class="length-num">18</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url(/img/nav_Picture.jpg);"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><img class="site-icon" src="/img/Top.png" alt="Logo"><span class="site-name">YD's 學習筆記</span></a><a class="nav-page-title" href="/"><span class="site-name">(資料庫系統) Basic SQL (Structured Query Language)</span><span class="site-name"><i class="fa-solid fa-circle-arrow-left"></i><span>  返回首頁</span></span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">(資料庫系統) Basic SQL (Structured Query Language)</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">發表於</span><time class="post-meta-date-created" datetime="2025-12-09T13:16:17.006Z" title="發表於 2025-12-09 21:16:17">2025-12-09</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新於</span><time class="post-meta-date-updated" datetime="2025-12-15T13:44:23.137Z" title="更新於 2025-12-15 21:44:23">2025-12-15</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E8%B3%87%E6%96%99%E5%BA%AB%E7%B3%BB%E7%B5%B1/">資料庫系統</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E8%B3%87%E6%96%99%E5%BA%AB%E7%B3%BB%E7%B5%B1/SQL/">SQL</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">總字數:</span><span class="word-count">3.4k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">閱讀時間:</span><span>14分鐘</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">瀏覽量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><h1>簡短說明：</h1>
<ul>
<li>主題：Basic SQL</li>
<li>本章重點：
<ul>
<li>SQL 的由來與「關聯模型」差異</li>
<li>SQL 三種語言：DDL / DML / DCL</li>
<li>Schema / Catalog / CREATE TABLE</li>
<li>資料型態 &amp; Domain</li>
<li>各種 Constraints（PK / FK / UNIQUE / NOT NULL / CHECK / DEFAULT）</li>
<li>基本查詢：SELECT-FROM-WHERE、DISTINCT、集合運算</li>
<li>INSERT / DELETE / UPDATE 修改資料</li>
</ul>
</li>
</ul>
<hr>
<h1>Basic SQL &amp; 關聯模型差異</h1>
<h2 id="SQL的由來">SQL的由來</h2>
<ul>
<li>
<p>起源：從 tuple calculus（關聯謂詞演算）發展出語言 SQUARE → SEQUEL → SQL</p>
</li>
<li>
<p>SQL 原本是 SEQUEL to SQUARE 的縮寫，後來因版權改成 SQL（Structured Query Language）<br>
→ 目前都習慣叫「Structured Query Language」。</p>
</li>
</ul>
<h2 id="名詞對照（數學-vs-實作）">名詞對照（數學 vs 實作）</h2>
<p>理論的關聯模型使用比較「數學」的名稱：</p>
<table>
<thead>
<tr>
<th>關聯模型</th>
<th>SQL 實務名稱</th>
<th>中文</th>
</tr>
</thead>
<tbody>
<tr>
<td>Relation</td>
<td>Table</td>
<td>資料表</td>
</tr>
<tr>
<td>Tuple</td>
<td>Record / Row</td>
<td>紀錄/列</td>
</tr>
<tr>
<td>Attribute</td>
<td>Field / Column</td>
<td>欄位/行</td>
</tr>
</tbody>
</table>
<ul>
<li>SQL可以不需定義主鍵</li>
<li>SQL資料表可以有兩筆序列值一模一樣</li>
<li>資料表中的紀錄是有次序的</li>
</ul>
<hr>
<h1>SQL 提供的三種語言</h1>
<h2 id="DDL（Data-Definition-Language）">DDL（Data Definition Language）</h2>
<p>用途：定義資料庫結構 &amp; 各種物件</p>
<ul>
<li>物件：Database、Table、View、Index、Schema、Domain、Stored Procedure、Trigger…等</li>
<li>常見指令:
<ul>
<li>CREATE：建立物件（table、schema、view、index…）</li>
<li>ALTER：變更物件（加欄位、改 constraint…）</li>
<li>DROP：刪除物件</li>
</ul>
</li>
</ul>
<h2 id="DML（Data-Manipulation-Language）">DML（Data Manipulation Language）</h2>
<p>用途：操作資料表的資料</p>
<ul>
<li>常見指令：
<ul>
<li>INSERT：新增資料</li>
<li>UPDATE：修改資料</li>
</ul>
</li>
</ul>
<h2 id="DCL（Data-Control-Language）">DCL（Data Control Language）</h2>
<p>用途：權限控制 &amp; 交易控制</p>
<ul>
<li>常見指令：</li>
<li>GRANT：給使用者權限</li>
<li>REVOKE：收回權限</li>
<li>COMMIT：提交交易（真的寫進 DB）</li>
<li>ROLLBACK：異常時回復到交易開始前的狀態</li>
<li>DELETE：刪除資料</li>
</ul>
<blockquote>
<p>小抄：<br>
DDL：建東西 → CREATE / ALTER / DROP<br>
DML：改資料 → INSERT / UPDATE / DELETE<br>
DCL：權限＋交易 → GRANT / REVOKE / COMMIT / ROLLBACK</p>
</blockquote>
<hr>
<h1>Schema &amp; Catalog &amp; CREATE TABLE</h1>
<h2 id="Schema-概念">Schema 概念</h2>
<ul>
<li>SQL schema：
<ul>
<li>有一個 schema 名稱</li>
<li>有一個授權識別碼（帳號 / 使用者），表示誰是 owner</li>
<li>裡面包含各種元素：tables、constraints、views、domains 等</li>
</ul>
</li>
<li>建立語法：</li>
</ul>
<blockquote>
<p>Each statement in SQL ends with a semicolon(;)</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> SCHEMA COMPANY <span class="keyword">AUTHORIZATION</span> <span class="string">&#x27;Jsmith&#x27;</span>;</span><br></pre></td></tr></table></figure>
<p>→ 建一個 schema 叫 COMPANY，擁有者是 Jsmith。</p>
<h2 id="CREATE-TABLE：定義資料表">CREATE TABLE：定義資料表</h2>
<ul>
<li>目的：定義一個 base table（基礎關聯）</li>
<li>CREATE TABLE 建立的是 base table：
<ul>
<li>真正會在磁碟上建立檔案來存 row</li>
</ul>
</li>
<li>若是 CREATE VIEW 則是 virtual relation（view）：
<ul>
<li>不對應實體檔案，只是查詢的視圖</li>
</ul>
</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE TABLE</span> EMPLOYEE (</span><br><span class="line">    Fname      <span class="type">VARCHAR</span>(<span class="number">15</span>),</span><br><span class="line">    Minit      <span class="type">CHAR</span>(<span class="number">1</span>),</span><br><span class="line">    Lname      <span class="type">VARCHAR</span>(<span class="number">15</span>),</span><br><span class="line">    Ssn        <span class="type">CHAR</span>(<span class="number">9</span>),</span><br><span class="line">    Bdate      <span class="type">DATE</span>,</span><br><span class="line">    Address    <span class="type">VARCHAR</span>(<span class="number">30</span>),</span><br><span class="line">    Sex        <span class="type">CHAR</span>(<span class="number">1</span>),</span><br><span class="line">    Salary     <span class="type">DECIMAL</span>(<span class="number">10</span>,<span class="number">2</span>),</span><br><span class="line">    Super_ssn  <span class="type">CHAR</span>(<span class="number">9</span>),</span><br><span class="line">    Dno        <span class="type">INT</span>,</span><br><span class="line">    <span class="keyword">PRIMARY KEY</span> (Ssn)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<blockquote>
<p>欄位：欄位名 資料型態 [NOT NULL] [DEFAULT …] [CHECK(…)]<br>
下方可以定義：PRIMARY KEY、UNIQUE、FOREIGN KEY 等 constraint</p>
</blockquote>
<p><img src="/img/Crete.png" alt="alt text"></p>
<h2 id="Catalog-概念">Catalog 概念</h2>
<ul>
<li>Catalog : 一個SQL environment中，很多個schema的集合。</li>
</ul>
<hr>
<h1>資料型態 &amp; Domain</h1>
<h2 id="數值型態（Numeric-Types）">數值型態（Numeric Types）</h2>
<h3 id="整數型態">整數型態</h3>
<ul>
<li><code>INT</code>、<code>INTEGER</code>：整數</li>
<li>無小數位、不可表示浮點</li>
</ul>
<h3 id="小數型態（定點數）">小數型態（定點數）</h3>
<ul>
<li><code>DECIMAL(i, j)</code>、<code>NUMERIC(i, j)</code>、<code>DEC(i, j)</code>
<ul>
<li><code>i</code>：總位數（precision）</li>
<li><code>j</code>：小數位數（scale）</li>
</ul>
</li>
</ul>
<p><strong>例：</strong></p>
<ul>
<li><code>DECIMAL(3,1)</code> → 例如 <code>12.5</code></li>
<li><code>DECIMAL(5,2)</code> → 例如 <code>123.45</code></li>
</ul>
<blockquote>
<p>若未指定 <code>(i, j)</code>，則使用 DBMS 預設值。</p>
</blockquote>
<h2 id="字串型態（Character-Types）">字串型態（Character Types）</h2>
<h3 id="固定長度字串">固定長度字串</h3>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">CHAR</span>(n)</span><br><span class="line"><span class="type">CHARACTER</span>(n)</span><br></pre></td></tr></table></figure>
<p>儲存長度不足會自動補空白（padding）</p>
<h3 id="可變長度字串">可變長度字串</h3>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">VARCHAR</span>(n)</span><br><span class="line"><span class="type">CHAR</span> <span class="type">VARYING</span>(n)</span><br></pre></td></tr></table></figure>
<ul>
<li>最長 n 個字元</li>
<li>實務上幾乎都用 VARCHAR</li>
<li>在支援 Unicode 的 DBMS 中，一個中文字通常算一個字元，否則兩個。</li>
</ul>
<h2 id="Bit-串與-Boolean">Bit 串與 Boolean</h2>
<h3 id="Bit-string-data-types">Bit-string data types</h3>
<ul>
<li>BIT(n)：固定長度 bit</li>
<li>BIT VARYING(n)：可變長度 bit</li>
</ul>
<h3 id="Boolean-data-types">Boolean data types</h3>
<ul>
<li>TRUE / FALSE / NULL</li>
</ul>
<h3 id="DATE-data-type">DATE data type</h3>
<ul>
<li>Ten positions</li>
<li>YEAR,MONTH,DAY in form YYYY-MM-DD</li>
</ul>
<h3 id="TIME-data-type">TIME data type</h3>
<ul>
<li>標準的時間欄是</li>
<li>hh:mm::ss</li>
</ul>
 <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">TIME</span></span><br><span class="line"><span class="type">TIME</span>(p)              <span class="comment">-- 精度 p，可記小數秒 TIME(2)表示藥劑載到百分之一秒(10^-2)</span></span><br><span class="line"><span class="type">TIME</span> <span class="keyword">WITH</span> <span class="type">TIME</span> ZONE  <span class="comment">-- 包含時區</span></span><br></pre></td></tr></table></figure>
<ul>
<li>範例：
<ul>
<li>TIME ‘13:45:59’</li>
<li>TIME ‘13:45:59.25’ – 小數秒</li>
</ul>
</li>
</ul>
<h3 id="Timestamp-DATETIME-data-type">Timestamp(DATETIME) data type</h3>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">TIMESTAMP</span></span><br><span class="line"><span class="type">TIMESTAMP</span>(p)</span><br><span class="line"><span class="type">TIMESTAMP</span> <span class="keyword">WITH</span> <span class="type">TIME</span> ZONE</span><br></pre></td></tr></table></figure>
<ul>
<li>代表日期 + 時間</li>
<li>2024-01-06 13:22:11</li>
</ul>
<h3 id="INTERVAL（時間區間）">INTERVAL（時間區間）</h3>
<ul>
<li>INTERVAL 表示一段相對的時間，可加入 DATE / TIMESTAMP 使用：</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">DATE &#x27;2024-01-01&#x27; + INTERVAL &#x27;15&#x27; DAY</span><br><span class="line">TIMESTAMP &#x27;2024-01-01 00:00:00&#x27; + INTERVAL &#x27;2&#x27; HOUR</span><br></pre></td></tr></table></figure>
<h2 id="BLOB-CLOB（大型物件）">BLOB / CLOB（大型物件）</h2>
<h3 id="BLOB-Data-Type-（Binary-Large-Object）">BLOB Data Type （Binary Large Object）</h3>
<ul>
<li>存大型二進位資料：例如圖片、音檔、影片、PDF…</li>
</ul>
<h3 id="CLOB-Data-Type-（Character-Large-Object）">CLOB Data Type （Character Large Object）</h3>
<ul>
<li>存大型文字資料：例如整份文章、長篇內容、log、JSON 文字</li>
</ul>
<h2 id="Domain-TYPE（自訂型態）">Domain / TYPE（自訂型態）</h2>
<h3 id="Domain">Domain</h3>
<ul>
<li>
<h2 id="定義一個-domain，很多欄位都可以用它；以後你想改型態-規則，就改-domain-即可">定義一個 domain，很多欄位都可以用它；以後你想改型態/規則，就改 domain 即可</h2>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CREATE DOMAIN SSN_TYPE AS CHAR(9);</span><br></pre></td></tr></table></figure>
<ul>
<li>也可以加 CHECK：</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CREATE DOMAIN SALES_TYPE INT CHECK (SALES_TYPE &gt; 100);</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="TYPE（UDT：User-Defined-Type）">TYPE（UDT：User Defined Type）</h3>
<ul>
<li>這是偏物件導向/複合型資料用的，指令是 <code>CREATE TYPE</code></li>
</ul>
<hr>
<h1>Specifying Constraints in SQL</h1>
<h2 id="SQL-支援的「三大基本約束」">SQL 支援的「三大基本約束」</h2>
<ol>
<li>Key constraint（鍵限制）</li>
</ol>
<ul>
<li>主鍵不能重複（primary key value cannot be duplicated）</li>
<li>Key 值是唯一的</li>
</ul>
<ol start="2">
<li>Entity integrity（實體完整性）</li>
</ol>
<ul>
<li>主鍵不能是 NULL（primary key value cannot be null）</li>
<li>Primary Key值不得為空</li>
</ul>
<ol start="3">
<li>Referential integrity（參考完整性）</li>
</ol>
<ul>
<li>外鍵要嘛是 NULL，要嘛必須能對到對方表的主鍵</li>
<li>當Foreign Key 有值時，要參考的到</li>
</ul>
<h2 id="欄位層級的限制（DEFAULT-NOT-NULL-CHECK）">欄位層級的限制（DEFAULT / NOT NULL / CHECK）</h2>
<h3 id="DEFAULT">DEFAULT</h3>
<ul>
<li>你沒填值時，系統自動帶入預設值：<code>DEFAULT &lt;value&gt;</code></li>
</ul>
<h3 id="NOT-NULL">NOT NULL</h3>
<ul>
<li>這個欄位不允許 NULL</li>
</ul>
<h3 id="CHECK">CHECK</h3>
<ul>
<li>用條件限制欄位值（或多欄位的邏輯）</li>
<li><code>Dnumber INT NOT NULL CHECK (Dnumber &gt; 0 AND Dnumber &lt; 21);</code></li>
<li>寫進Domain : <code>CREATE DOMAIN D_NUM AS INTEGER CHECK (Dnumber &gt; 0 AND Dnumber &lt; 21);</code></li>
</ul>
<h3 id="PRIMARY-KEY">PRIMARY KEY</h3>
<ul>
<li>指定一個或多個欄位組成主鍵</li>
<li>主鍵含義＝唯一 + 不可為 NULL（對應前面 key + entity integrity）</li>
</ul>
<h3 id="UNIQUE">UNIQUE</h3>
<ul>
<li>指定「候選鍵/替代鍵」（candidate key / alternate key）</li>
<li>一樣要求「值不重複」，但通常可以允許 NULL（依 DBMS 有差）</li>
<li>投影片例：Dname VARCHAR(15) UNIQUE;</li>
</ul>
<blockquote>
<p>PRIMARY KEY：一張表通常選 1 個（可複合）當“主要識別”<br>
UNIQUE：其他也能唯一識別的欄位（候選鍵）</p>
</blockquote>
<h3 id="FOREIGN-KEY-基本概念">FOREIGN KEY 基本概念</h3>
<ul>
<li>預設行為：違反參考完整性就 reject（拒絕）</li>
<li>可以加上「參考觸發動作」
<ul>
<li>常見選項：SET NULL, CASCADE, SET DEFAULT</li>
<li>DBMS 對 SET NULL 或 SET DEFAULT，在 ON DELETE 與 ON UPDATE 的處理邏輯是一樣的（都是把子表 FK 欄位改成 NULL 或預設）</li>
</ul>
</li>
<li>什麼情況適合 CASCADE？
<ul>
<li>表示「關係」的表</li>
<li>表示多值屬性的表</li>
<li>表示弱實體的表</li>
</ul>
</li>
</ul>
<h2 id="ON-DELETE-ON-UPDATE-各種動作">ON DELETE / ON UPDATE 各種動作</h2>
<h3 id="ON-DELETE-…">ON DELETE …</h3>
<ul>
<li>RESTRICT（預設）：父表那筆記錄「<strong>沒被參考</strong>」才能刪</li>
<li>SET NULL：父表刪了 → 子表所有參考它的 FK 全部改成 NULL</li>
<li>SET DEFAULT：父表刪了 → 子表所有參考它的 FK 全部改成預設值</li>
<li>CASCADE：父表刪了 → 子表所有參考它的那些資料列也跟著刪</li>
</ul>
<h3 id="ON-UPDATE-…">ON UPDATE …</h3>
<ul>
<li>RESTRICT（預設）：父表主鍵「沒被參考」才能改</li>
<li>CASCADE：父表主鍵改了 → 子表所有參考它的 FK 也跟著改</li>
</ul>
<hr>
<h1>Constraint 命名與修改（Giving Names to Constraints）</h1>
<h2 id="為什麼要幫-Constraint-取名字？">為什麼要幫 Constraint 取名字？</h2>
<ul>
<li>使用關鍵字 <code>CONSTRAINT</code></li>
<li>好處：
<ul>
<li>之後 <strong>ALTER TABLE 修改或刪除 constraint</strong> 時會非常方便</li>
<li>不用依賴 DBMS 自動產生的亂碼名稱</li>
<li>ALTER TABLE 也可以用來<code>修改完整性限制</code>，包括完整限制的刪除和新增</li>
</ul>
</li>
</ul>
<h3 id="範例：在-CREATE-TABLE-時命名">範例：在 CREATE TABLE 時命名</h3>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE TABLE</span> Browse (</span><br><span class="line">    mId <span class="type">CHAR</span>(<span class="number">8</span>) <span class="keyword">NOT NULL</span> <span class="keyword">DEFAULT</span> <span class="string">&#x27;a0910001&#x27;</span>,</span><br><span class="line">    pNo <span class="type">CHAR</span>(<span class="number">6</span>) <span class="keyword">NOT NULL</span>,</span><br><span class="line">    browseTime DATETIME <span class="keyword">NOT NULL</span>,</span><br><span class="line">    <span class="keyword">PRIMARY KEY</span> (mId, pNo, browseTime),</span><br><span class="line">    <span class="keyword">CONSTRAINT</span> mIdFK</span><br><span class="line">        <span class="keyword">FOREIGN KEY</span> (mId)</span><br><span class="line">        <span class="keyword">REFERENCES</span> <span class="keyword">Member</span>(mId)</span><br><span class="line">        <span class="keyword">ON</span> <span class="keyword">DELETE</span> <span class="keyword">SET</span> <span class="keyword">DEFAULT</span></span><br><span class="line">        <span class="keyword">ON</span> <span class="keyword">UPDATE</span> CASCADE</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<h2 id="使用-ALTER-TABLE-修改-Constraint">使用 ALTER TABLE 修改 Constraint</h2>
<ul>
<li>
<p>ALTER TABLE 可以：</p>
<ul>
<li>新增 constraint</li>
<li>刪除 constraint
<ul>
<li>刪除 constraint 一定要知道它的名字</li>
</ul>
</li>
</ul>
</li>
<li>
<p>刪除 Constraint</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER TABLE</span> Browse</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">CONSTRAINT</span> mIdFK;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>新增 Constraint</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER TABLE</span> Browse</span><br><span class="line"><span class="keyword">ADD CONSTRAINT</span> NewmIdFK</span><br><span class="line"><span class="keyword">FOREIGN KEY</span> (mId)</span><br><span class="line"><span class="keyword">REFERENCES</span> <span class="keyword">Member</span>(mId)</span><br><span class="line"><span class="keyword">ON</span> <span class="keyword">DELETE</span> CASCADE</span><br><span class="line"><span class="keyword">ON</span> <span class="keyword">UPDATE</span> CASCADE;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>若一開始忘記命名 constraint：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SHOW</span> <span class="keyword">CREATE TABLE</span> Browse;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<hr>
<h1>Default 值與 Referential Integrity 搭配</h1>
<h2 id="DEFAULT-FOREIGN-KEY">DEFAULT + FOREIGN KEY</h2>
<ul>
<li>當外鍵設定 <code>ON DELETE SET DEFAULT</code></li>
<li>該欄位 一定要有 DEFAULT 值</li>
</ul>
<hr>
<h1>Tuple 層級的限制（CHECK on Tuples）</h1>
<h2 id="Table-level-CHECK（跨欄位檢查）">Table-level CHECK（跨欄位檢查）</h2>
<ul>
<li>CHECK 不只可以限制「單一欄位」</li>
<li>也可以限制「同一筆 tuple 內，多個欄位的邏輯關係」</li>
<li>寫在 CREATE TABLE 最後面</li>
<li>範例:<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CHECK</span> (Dept_create_date <span class="operator">&lt;=</span> Mgr_start_date);</span><br></pre></td></tr></table></figure>
<blockquote>
<p>每一筆資料都必須滿足：<br>
部門成立日 ≤ 經理上任日<br>
否則 INSERT / UPDATE 會被拒絕</p>
</blockquote>
</li>
</ul>
<hr>
<h1>Basic Retrieval Queries（基本查詢）</h1>
<h2 id="SELECT-語句基本概念">SELECT 語句基本概念</h2>
<ul>
<li>SELECT 是 SQL 中 唯一的查詢語句</li>
<li>用來從資料庫「取資料」而非修改資料</li>
<li>SQL 與關聯模型的差異
<ul>
<li><strong>SQL 允許重複的 tuple</strong></li>
<li>因此 SQL 是： **Bag（Multiset）**語意</li>
<li>關聯模型 是 ：  **Set（集合）**語意</li>
</ul>
</li>
</ul>
<h2 id="SELECT–FROM–WHERE-基本結構">SELECT–FROM–WHERE 基本結構</h2>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">&lt;</span>attribute list<span class="operator">&gt;</span></span><br><span class="line"><span class="keyword">FROM</span>   <span class="operator">&lt;</span><span class="keyword">table</span> list<span class="operator">&gt;</span></span><br><span class="line"><span class="keyword">WHERE</span>  <span class="operator">&lt;</span><span class="keyword">condition</span><span class="operator">&gt;</span>;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>SELECT：要顯示的欄位（Projection）<br>
FROM：資料來源表格<br>
WHERE：篩選條件（Selection）</p>
</blockquote>
<h2 id="WHERE-常用比較運算子">WHERE 常用比較運算子</h2>
<ul>
<li>=, &lt;, &lt;=, &gt;, &gt;=, &lt;&gt;</li>
<li>條件必須是 Boolean expression</li>
</ul>
<h2 id="基本查詢範例說明">基本查詢範例說明</h2>
<p><img src="/img/CH6SQLDATA.png" alt="alt text"></p>
<ul>
<li>取得名為 John B. Smith 的員工生日與地址</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> Bdate, Address</span><br><span class="line"><span class="keyword">FROM</span> EMPLOYEE</span><br><span class="line"><span class="keyword">WHERE</span> Fname <span class="operator">=</span> <span class="string">&#x27;John&#x27;</span><span class="keyword">AND</span> Minit <span class="operator">=</span> <span class="string">&#x27;B&#x27;</span><span class="keyword">AND</span> Lname <span class="operator">=</span> <span class="string">&#x27;Smith&#x27;</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<ul>
<li>查 Research 部門所有員工姓名與地址</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> Fname, Lname, Address</span><br><span class="line"><span class="keyword">FROM</span> EMPLOYEE, DEPARTMENT</span><br><span class="line"><span class="keyword">WHERE</span> Dname <span class="operator">=</span> <span class="string">&#x27;Research&#x27;</span><span class="keyword">AND</span> Dnumber <span class="operator">=</span> Dno;</span><br></pre></td></tr></table></figure>
<ul>
<li>多表 Join（Project / Department / Employee）</li>
<li>查詢位於 Stafford 的專案：
<ul>
<li>專案編號</li>
<li>部門編號</li>
<li>部門經理的姓名、地址、生日</li>
</ul>
</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> Pnumber, Dnum, Lname, Address, Bdate</span><br><span class="line"><span class="keyword">FROM</span> PROJECT, DEPARTMENT, EMPLOYEE</span><br><span class="line"><span class="keyword">WHERE</span> Dnum <span class="operator">=</span> Dnumber</span><br><span class="line">  <span class="keyword">AND</span> Mgr_ssn <span class="operator">=</span> Ssn</span><br><span class="line">  <span class="keyword">AND</span> Plocation <span class="operator">=</span> <span class="string">&#x27;Stafford&#x27;</span>;</span><br></pre></td></tr></table></figure>
<hr>
<h1>Ambiguous Attribute Names（屬性名稱歧義）</h1>
<ul>
<li>
<p>不同資料表中 欄位名稱相同<br>
在 SELECT / WHERE 中無法判斷是誰的欄位</p>
</li>
<li>
<p>Solution :　Qualified Attribute Name</p>
<ul>
<li>RelationName.AttributeName</li>
</ul>
</li>
<li>
<p>範例:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> Fname, EMPLOYEE.Name, Address</span><br><span class="line"><span class="keyword">FROM</span> EMPLOYEE, DEPARTMENT</span><br><span class="line"><span class="keyword">WHERE</span> DEPARTMENT.Name <span class="operator">=</span> <span class="string">&#x27;Research&#x27;</span></span><br><span class="line"><span class="keyword">AND</span> DEPARTMENT.Dnumber <span class="operator">=</span> EMPLOYEE.Dnumber;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<hr>
<h1>Aliasing 與 Renaming（別名 / 重新命名）</h1>
<h2 id="Alias-tuple-variable">Alias(tuple variable)</h2>
<ul>
<li>同一張表在同一個查詢裡要用 兩次以上（self-join）時，一定要取別名，不然欄位會混在一起。</li>
<li>別名也能讓 SQL 變短、可讀性更好。</li>
</ul>
<h2 id="範例：員工-vs-主管（同一張-EMPLOYEE-用兩次）">範例：員工 vs 主管（同一張 EMPLOYEE 用兩次）</h2>
<ul>
<li>目標：對每位員工，取出員工的姓名與「直屬主管」的姓名</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> E.Fname, E.Lname, S.Fname, S.Lname</span><br><span class="line"><span class="keyword">FROM</span> EMPLOYEE <span class="keyword">AS</span> E, EMPLOYEE <span class="keyword">AS</span> S</span><br><span class="line"><span class="keyword">WHERE</span> E.Super_ssn <span class="operator">=</span> S.Ssn;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>E：代表員工本人那一份 EMPLOYEE<br>
S：代表主管那一份 EMPLOYEE<br>
E.Super_ssn = S.Ssn：把員工的主管代碼對到主管的主鍵</p>
</blockquote>
<blockquote>
<p>AS 在多數 DBMS 可以省略</p>
</blockquote>
<h2 id="欄位也可以改名（Rename-attributes）">欄位也可以改名（Rename attributes）</h2>
<ul>
<li>在結果欄位用 AS 改欄名（常用、最實際）</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> E.Fname <span class="keyword">AS</span> EmpFname, E.Lname <span class="keyword">AS</span> EmpLname</span><br><span class="line"><span class="keyword">FROM</span> EMPLOYEE E;</span><br></pre></td></tr></table></figure>
<hr>
<h1>沒寫 WHERE 與星號 *</h1>
<h2 id="Missing-WHERE">Missing WHERE</h2>
<ul>
<li>沒有篩選條件 → 等同「WHERE TRUE」→ 取出所有 tuple</li>
</ul>
<h2 id="多表但沒-WHERE">多表但沒 WHERE</h2>
<ul>
<li>FROM EMPLOYEE, DEPARTMENT 但沒寫 WHERE</li>
<li>結果是 CROSS PRODUCT（笛卡兒積）：
<ul>
<li>每個 EMPLOYEE tuple 會和每個 DEPARTMENT tuple 配對</li>
<li>筆數會爆炸（|EMPLOYEE| × |DEPARTMENT|）</li>
</ul>
</li>
</ul>
<h2 id="星號">星號*</h2>
<ul>
<li>SELECT *：取出被選到的 tuple 的 所有欄位</li>
<li>table.*：只取某張表的所有欄位</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 取出部門編號為 5 的所有員工完整資料</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span></span><br><span class="line"><span class="keyword">FROM</span> EMPLOYEE</span><br><span class="line"><span class="keyword">WHERE</span> Dno <span class="operator">=</span> <span class="number">5</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 多表時</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span></span><br><span class="line"><span class="keyword">FROM</span> EMPLOYEE, DEPARTMENT</span><br><span class="line"><span class="keyword">WHERE</span> Dname<span class="operator">=</span><span class="string">&#x27;Research&#x27;</span> <span class="keyword">AND</span> Dno<span class="operator">=</span>Dnumber;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 只取 EMPLOYEE 的欄位</span></span><br><span class="line"><span class="keyword">SELECT</span> EMPLOYEE.<span class="operator">*</span></span><br><span class="line"><span class="keyword">FROM</span> EMPLOYEE, DEPARTMENT</span><br><span class="line"><span class="keyword">WHERE</span> Dname<span class="operator">=</span><span class="string">&#x27;Research&#x27;</span> <span class="keyword">AND</span> Dno<span class="operator">=</span>Dnumber;</span><br></pre></td></tr></table></figure>
<hr>
<h1>Tables as Sets / Bag（DISTINCT 與集合運算）</h1>
<ul>
<li>SQL 查詢結果預設是 Bag（可重複）</li>
<li><strong>DISTINCT</strong>：把結果當成 Set（去重複）</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 可能會重複（因為不同員工可能同薪水）</span></span><br><span class="line"><span class="keyword">SELECT</span> Salary</span><br><span class="line"><span class="keyword">FROM</span> EMPLOYEE;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 去除重複的薪資值</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span> Salary</span><br><span class="line"><span class="keyword">FROM</span> EMPLOYEE;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>Tips : DISTINCT 是加在 SELECT 後面，代表「結果去重複」。</p>
</blockquote>
<hr>
<h1>Set Operations（UNION / INTERSECT / EXCEPT）</h1>
<h2 id="三種集合運算（Set-semantics，不允許重複）">三種集合運算（Set semantics，不允許重複）</h2>
<ul>
<li>UNION：聯集</li>
<li>INTERSECT：交集</li>
<li>EXCEPT（有些 DBMS 用 MINUS）：差集</li>
</ul>
<h2 id="Bag-Multiset-版本（允許重複）">Bag/Multiset 版本（允許重複）</h2>
<ul>
<li>UNION ALL</li>
<li>INTERSECT ALL</li>
<li>EXCEPT ALL</li>
</ul>
<h2 id="使用限制：Type-compatibility">使用限制：Type compatibility</h2>
<ul>
<li>兩邊查詢的輸出必須：
<ul>
<li>欄位數量相同</li>
<li>對應欄位型態相容</li>
<li>欄位順序要一致</li>
</ul>
</li>
</ul>
<hr>
<h1>LIKE / BETWEEN（字串樣式比對與區間條件）</h1>
<h2 id="LIKE：字串-pattern-matching">LIKE：字串 pattern matching</h2>
<ul>
<li>
<p>%：任意長度（含 0）任意字元</p>
</li>
<li>
<p>_：剛好 1 個任意字元</p>
</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 地址包含 Houston,TX</span></span><br><span class="line"><span class="keyword">WHERE</span> Address <span class="keyword">LIKE</span> <span class="string">&#x27;%Houston,TX%&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- Ssn 形式：___-__-8901（示意）</span></span><br><span class="line"><span class="keyword">WHERE</span> Ssn <span class="keyword">LIKE</span> <span class="string">&#x27;___-__-8901&#x27;</span>;</span><br></pre></td></tr></table></figure>
<h2 id="BETWEEN：範圍條件（含端點）">BETWEEN：範圍條件（含端點）</h2>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">WHERE</span> Salary <span class="keyword">BETWEEN</span> <span class="number">30000</span> <span class="keyword">AND</span> <span class="number">40000</span></span><br><span class="line"><span class="keyword">AND</span> Dno <span class="operator">=</span> <span class="number">5</span>;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>Tips : BETWEEN a AND b 等價於 &gt;= a AND &lt;= b。</p>
</blockquote>
<hr>
<h1>Arithmetic Operations</h1>
<ul>
<li>
<p>可以在 SELECT 直接做 + - * /</p>
</li>
<li>
<p>範例：ProductX 專案的員工加薪 10%</p>
</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> E.Fname, E.Lname, <span class="number">1.1</span> <span class="operator">*</span> E.Salary <span class="keyword">AS</span> Increased_sal</span><br><span class="line"><span class="keyword">FROM</span> EMPLOYEE <span class="keyword">AS</span> E, WORKS_ON <span class="keyword">AS</span> W, PROJECT <span class="keyword">AS</span> P</span><br><span class="line"><span class="keyword">WHERE</span> E.Ssn<span class="operator">=</span>W.Essn</span><br><span class="line"><span class="keyword">AND</span> W.Pno<span class="operator">=</span>P.Pnumber</span><br><span class="line"><span class="keyword">AND</span> P.Pname<span class="operator">=</span><span class="string">&#x27;ProductX&#x27;</span>;</span><br></pre></td></tr></table></figure>
<hr>
<h1>ORDER BY（查詢結果排序）</h1>
<ul>
<li>ORDER BY 放在查詢最後
<ul>
<li>ASC：升冪（預設）</li>
<li>DESC：降冪</li>
</ul>
</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> D.Dname <span class="keyword">DESC</span>, E.Lname <span class="keyword">ASC</span>, E.Fname <span class="keyword">ASC</span>;</span><br></pre></td></tr></table></figure>
<hr>
<h1>SQL 查詢語法總整理</h1>
<ul>
<li>語法順序</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">&lt;</span>attribute list<span class="operator">&gt;</span></span><br><span class="line"><span class="keyword">FROM</span> <span class="operator">&lt;</span><span class="keyword">table</span> list<span class="operator">&gt;</span></span><br><span class="line">[<span class="keyword">WHERE</span> <span class="operator">&lt;</span><span class="keyword">condition</span><span class="operator">&gt;</span>]</span><br><span class="line">[<span class="keyword">GROUP</span> <span class="keyword">BY</span> <span class="operator">&lt;</span><span class="keyword">grouping</span> attribute(s)<span class="operator">&gt;</span>]</span><br><span class="line">[<span class="keyword">HAVING</span> <span class="operator">&lt;</span><span class="keyword">group</span> <span class="keyword">condition</span><span class="operator">&gt;</span>]</span><br><span class="line">[<span class="keyword">ORDER</span> <span class="keyword">BY</span> <span class="operator">&lt;</span>attribute list<span class="operator">&gt;</span>]</span><br></pre></td></tr></table></figure>
<blockquote>
<p>FROM（先決定資料來源與 join）<br>
WHERE（先過濾 tuple）<br>
GROUP BY（分組）<br>
HAVING（過濾 group）<br>
SELECT（投影/計算輸出欄位）<br>
ORDER BY（最後排序輸出）</p>
</blockquote>
<hr>
<h1>INSERT / DELETE / UPDATE</h1>
<h2 id="DML（改資料）-的核心指令：">DML（改資料） 的核心指令：</h2>
<ul>
<li>
<p>INSERT：把「新的一筆 tuple/row」加進某個 table</p>
</li>
<li>
<p>UPDATE：把「符合條件的多筆 row」某些欄位改掉</p>
</li>
<li>
<p>DELETE：把「符合條件的多筆 row」刪掉</p>
</li>
</ul>
<h2 id="INSERT">INSERT</h2>
<h3 id="最簡單-INSERT">最簡單 INSERT</h3>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT INTO</span> EMPLOYEE</span><br><span class="line"><span class="keyword">VALUES</span> (...一整列的值...);</span><br></pre></td></tr></table></figure>
<ul>
<li>值的順序很重要</li>
<li>constraint 會自動檢查</li>
</ul>
<h3 id="你只想填一部分欄位">你只想填一部分欄位</h3>
<ul>
<li>沒寫 NOT NULL → 會變 NULL</li>
<li>有 DEFAULT → 會用 DEFAULT</li>
<li>NOT NULL 且沒 DEFAULT → 會失敗</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT INTO</span> EMPLOYEE (FNAME, LNAME, SSN)</span><br><span class="line"><span class="keyword">VALUES</span> (<span class="string">&#x27;Richard&#x27;</span>, <span class="string">&#x27;Marini&#x27;</span>, <span class="string">&#x27;653298653&#x27;</span>);</span><br></pre></td></tr></table></figure>
<h3 id="Bulk-Loading">Bulk Loading</h3>
<ul>
<li>
<p>典型流程</p>
<ol>
<li>先建一張「摘要表」</li>
</ol>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE TABLE</span> DEPTS_INFO (</span><br><span class="line">DEPT_NAME   <span class="type">VARCHAR</span>(<span class="number">10</span>),</span><br><span class="line">NO_OF_EMPS  <span class="type">INTEGER</span>,</span><br><span class="line">TOTAL_SAL   <span class="type">INTEGER</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<ol start="2">
<li>用 INSERT…SELECT 把統計結果灌進去</li>
</ol>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT INTO</span> DEPTS_INFO (DEPT_NAME, NO_OF_EMPS, TOTAL_SAL)</span><br><span class="line"><span class="keyword">SELECT</span> DNAME, <span class="built_in">COUNT</span>(<span class="operator">*</span>), <span class="built_in">SUM</span>(SALARY)</span><br><span class="line"><span class="keyword">FROM</span> DEPARTMENT, EMPLOYEE</span><br><span class="line"><span class="keyword">WHERE</span> DNUMBER <span class="operator">=</span> DNO</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> DNAME;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="DELETE">DELETE</h2>
<h3 id="DELETE-的本質">DELETE 的本質</h3>
<ul>
<li>從某 table 移除 row</li>
<li>通常靠 WHERE 選要刪哪些 row</li>
</ul>
<blockquote>
<p>沒寫 WHERE：<br>
代表刪掉整張表所有資料列（變空表）</p>
</blockquote>
<h3 id="範例">範例</h3>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> EMPLOYEE <span class="keyword">WHERE</span> Lname <span class="operator">=</span> <span class="string">&#x27;Brown&#x27;</span>;</span><br><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> EMPLOYEE <span class="keyword">WHERE</span> Ssn <span class="operator">=</span> <span class="string">&#x27;123456789&#x27;</span>;</span><br><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> EMPLOYEE <span class="keyword">WHERE</span> Dno <span class="operator">=</span> <span class="number">5</span>;</span><br><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> EMPLOYEE;   <span class="comment">-- ⚠️ 全刪</span></span><br></pre></td></tr></table></figure>
<h2 id="UPDATE">UPDATE</h2>
<h3 id="UPDATE-基本結構（SET-WHERE）">UPDATE 基本結構（SET + WHERE）</h3>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">UPDATE</span> <span class="operator">&lt;</span><span class="keyword">table</span><span class="operator">&gt;</span></span><br><span class="line"><span class="keyword">SET</span> <span class="operator">&lt;</span>col1<span class="operator">&gt;</span> <span class="operator">=</span> <span class="operator">&lt;</span>value1<span class="operator">&gt;</span>, <span class="operator">&lt;</span>col2<span class="operator">&gt;</span> <span class="operator">=</span> <span class="operator">&lt;</span>value2<span class="operator">&gt;</span>, ...</span><br><span class="line"><span class="keyword">WHERE</span> <span class="operator">&lt;</span><span class="keyword">condition</span><span class="operator">&gt;</span>;</span><br></pre></td></tr></table></figure>
<h3 id="EXAMPLE">EXAMPLE</h3>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">UPDATE</span> PROJECT</span><br><span class="line"><span class="keyword">SET</span> Plocation <span class="operator">=</span> <span class="string">&#x27;Bellaire&#x27;</span>,</span><br><span class="line">    Dnum <span class="operator">=</span> <span class="number">5</span></span><br><span class="line"><span class="keyword">WHERE</span> Pnumber <span class="operator">=</span> <span class="number">10</span>;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>WHERE 決定改幾筆<br>
SET 決定改哪些欄位<br>
一樣會被 FK / CHECK / NOT NULL 等 constraints 檢查</p>
</blockquote>
<h3 id="UPDATE-子查詢-「右邊舊值、左邊新值」概念">UPDATE + 子查詢 + 「右邊舊值、左邊新值」概念</h3>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">UPDATE</span> EMPLOYEE</span><br><span class="line"><span class="keyword">SET</span> Salary <span class="operator">=</span> Salary <span class="operator">*</span> <span class="number">1.1</span></span><br><span class="line"><span class="keyword">WHERE</span> Dno <span class="keyword">IN</span> (</span><br><span class="line">  <span class="keyword">SELECT</span> Dnumber</span><br><span class="line">  <span class="keyword">FROM</span> DEPARTMENT</span><br><span class="line">  <span class="keyword">WHERE</span> Dname <span class="operator">=</span> <span class="string">&#x27;Research&#x27;</span></span><br><span class="line">);</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<blockquote>
<p>= 右邊的 Salary：指「更新前的舊 Salary」<br>
= 左邊的 Salary：指「更新後的新 Salary」</p>
</blockquote>
<hr>
<blockquote>
<p>老實說我原本只是想要打有甚麼Function而已 ， 但最後想一想還是把內容補完<br>
希望大家可以看得懂我在打甚麼<br>
如果有問題歡迎Gmail我歐!!!</p>
</blockquote>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://YowDesert.github.io">YowDesert</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章連結: </span><span class="post-copyright-info"><a href="https://yowdesert.github.io/posts/4f5b5fb4.html">https://yowdesert.github.io/posts/4f5b5fb4.html</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版權聲明: </span><span class="post-copyright-info">本部落格所有文章除特別聲明外，均採用<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 授權協議。轉載請註明來源 <a href="https://YowDesert.github.io" target="_blank">YD's 學習筆記</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E8%B3%87%E6%96%99%E5%BA%AB%E7%B3%BB%E7%B5%B1/">資料庫系統</a></div><div class="post-share"><div class="social-share" data-image="/img/butterfly-icon.png" data-sites="facebook,x,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/sharejs/dist/js/social-share.min.js" defer></script></div></div><div class="ads-wrap"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5975504062599634" crossorigin="anonymous"></script> <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-5975504062599634" data-ad-slot="7226702911" data-ad-format="auto" data-full-width-responsive="true"></ins> <script> (adsbygoogle = window.adsbygoogle || []).push({}); </script></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/posts/67c68839.html" title="(作業系統) Deadlock Definition, Avoidance and Resolution"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info"><div class="info-1"><div class="info-item-1">上一篇</div><div class="info-item-2">(作業系統) Deadlock Definition, Avoidance and Resolution</div></div><div class="info-2"><div class="info-item-1">Deadlock基本概念 1. Deadlock 是什麼？ Deadlock 指的是：  一組 processes 彼此等待對方所持有的資源，導致所有 process 都無法繼續執行。  Deadlock 的特徵  每個 process：  已持有至少一個資源 同時等待另一個 process 持有的資源   結果：大家互等，系統停住   2. Deadlock 範例 Example 1：兩個 processes、兩個資源  P1 持有 R1，等待 R2 P2 持有 R2，等待 R1 → 互相等待，發生 deadlock  Example 2：Semaphore A 與 B 12P1: wait(A); wait(B); ...; signal(B); signal(A);P2: wait(B); wait(A); ...; signal(A); signal(B);  若 P1 先拿到 A、P2 先拿到 B 下一步彼此都在等對方 → deadlock   Deadlock 的四個必要條件 Deadlock 當且僅當下列四個條件同時成立：  Mutual Exclusion（互斥）...</div></div></div></a><a class="pagination-related" href="/posts/90aa57da.html" title="(作業系統) Process and Concurrency - Synchronization Concepts"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-right"><div class="info-1"><div class="info-item-1">下一篇</div><div class="info-item-2">(作業系統) Process and Concurrency - Synchronization Concepts</div></div><div class="info-2"><div class="info-item-1">簡短說明：  主題：Synchronization Concepts 本章重點：  什麼情況下會發生 Race Condition？ 作業系統必須滿足哪些條件，才能正確管理共享資源？ 有哪些同步機制（Synchronization Mechanisms）可以保證程式正確性？      Background 問題與解決   The Problem :  Concurrent access to shared data may result in data inconsistency Outcome depends on the order of execution(race condition)    The Solution :  Ensure orderly execution Synchronization : 協調資源的分享與存取 保證 Data Integrity 和 Correctness    Consumer and Producer Problem :   變數意義 :  in：下一個要放入的位置（next free position） out：下一個要取出的項目...</div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相關推薦</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/posts/31704117.html" title="(資料庫系統) Advanced SQL"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-12-14</div><div class="info-item-2">(資料庫系統) Advanced SQL</div></div><div class="info-2"><div class="info-item-1">CH07 Advanced SQL（More SQL） 本章目標： 從基本 SELECT–FROM–WHERE，進階到能撰寫 實務等級的複雜 SQL 查詢。  More Complex SQL Retrieval Queries SQL 提供額外功能以支援更複雜的查詢：  Nested Queries（巢狀查詢） Joined Tables 與 Outer Joins Aggregate Functions 與 Grouping   NULL 與 Three-Valued Logic（三值邏輯） NULL 的意義  Unknown（未知） Unavailable / Withheld（不可用或被隱藏） Not applicable（不適用）  重要觀念  NULL 不是一個值 NULL ≠ NULL SQL 使用 TRUE / FALSE / UNKNOWN  Three-Valued Logic（三值邏輯）  TRUE FALSE UNKNOWN（通常來自 NULL）  AND（且）    AND TRUE FALSE UNKNOWN     TRUE TRUE FALSE U...</div></div></div></a><a class="pagination-related" href="/posts/b4af80a7.html" title="(資料庫系統) Normal Forms (NF)"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-12-15</div><div class="info-item-2">(資料庫系統) Normal Forms (NF)</div></div><div class="info-2"><div class="info-item-1"> 本章我要統整一下 Normal Forms 究竟是甚麼東西 核心目的 :　消除資料重複，避免更新異常，同時不產生假值組（spurious tuple）   快速導覽一下  基本正規式(Normal Forms Based on Primary Keys)  1NF (First Normal Form) 2NF (Second Normal Form) 3NF (Third Normal Form)     Tips : 實作通常可以只到3NF就好   高等正規式  BCNF (Boyce-Codd Normal Form) 4NF (Forth Normal Form) 5NF (Join Dependencies and Fifth Normal Form)     1NF  每個屬性是簡單且單值 只要合法的關聯綱目，也就是只要屬性值為 atomic value，都滿足1NF  那如果有多值呢 ? Solution 1 : 將多值的那個屬性也設為主鍵並將它分開好幾列  Ex. 原圖     tNo transMid method transTime products    ...</div></div></div></a></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/img/butterfly-icon.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">YowDesert</div><div class="author-info-description">這是YowDesert的部落格，記錄學習資訊工程領域的過程和心得，並以簡單白話的方式呈現，一起和我踏入資訊世界吧，有興趣的話歡迎Follow我歐。</div><div class="site-data"><a href="/archives/"><div class="headline">文章</div><div class="length-num">25</div></a><a href="/tags/"><div class="headline">標籤</div><div class="length-num">16</div></a><a href="/categories/"><div class="headline">分類</div><div class="length-num">18</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/yowdesert"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons"><a class="social-icon" href="https://github.com/yowdesert" target="_blank" title="Github"><i class="fab fa-github" style="color: #24292e;"></i></a><a class="social-icon" href="mailto:csaidesert@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope" style="color: #4a7dbe;"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目錄</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">1.</span> <span class="toc-text">簡短說明：</span></a></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">2.</span> <span class="toc-text">Basic SQL &amp; 關聯模型差異</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#SQL%E7%9A%84%E7%94%B1%E4%BE%86"><span class="toc-number">2.1.</span> <span class="toc-text">SQL的由來</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%90%8D%E8%A9%9E%E5%B0%8D%E7%85%A7%EF%BC%88%E6%95%B8%E5%AD%B8-vs-%E5%AF%A6%E4%BD%9C%EF%BC%89"><span class="toc-number">2.2.</span> <span class="toc-text">名詞對照（數學 vs 實作）</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">3.</span> <span class="toc-text">SQL 提供的三種語言</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#DDL%EF%BC%88Data-Definition-Language%EF%BC%89"><span class="toc-number">3.1.</span> <span class="toc-text">DDL（Data Definition Language）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#DML%EF%BC%88Data-Manipulation-Language%EF%BC%89"><span class="toc-number">3.2.</span> <span class="toc-text">DML（Data Manipulation Language）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#DCL%EF%BC%88Data-Control-Language%EF%BC%89"><span class="toc-number">3.3.</span> <span class="toc-text">DCL（Data Control Language）</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">4.</span> <span class="toc-text">Schema &amp; Catalog &amp; CREATE TABLE</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Schema-%E6%A6%82%E5%BF%B5"><span class="toc-number">4.1.</span> <span class="toc-text">Schema 概念</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#CREATE-TABLE%EF%BC%9A%E5%AE%9A%E7%BE%A9%E8%B3%87%E6%96%99%E8%A1%A8"><span class="toc-number">4.2.</span> <span class="toc-text">CREATE TABLE：定義資料表</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Catalog-%E6%A6%82%E5%BF%B5"><span class="toc-number">4.3.</span> <span class="toc-text">Catalog 概念</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">5.</span> <span class="toc-text">資料型態 &amp; Domain</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B8%E5%80%BC%E5%9E%8B%E6%85%8B%EF%BC%88Numeric-Types%EF%BC%89"><span class="toc-number">5.1.</span> <span class="toc-text">數值型態（Numeric Types）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B4%E6%95%B8%E5%9E%8B%E6%85%8B"><span class="toc-number">5.1.1.</span> <span class="toc-text">整數型態</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%8F%E6%95%B8%E5%9E%8B%E6%85%8B%EF%BC%88%E5%AE%9A%E9%BB%9E%E6%95%B8%EF%BC%89"><span class="toc-number">5.1.2.</span> <span class="toc-text">小數型態（定點數）</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%97%E4%B8%B2%E5%9E%8B%E6%85%8B%EF%BC%88Character-Types%EF%BC%89"><span class="toc-number">5.2.</span> <span class="toc-text">字串型態（Character Types）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9B%BA%E5%AE%9A%E9%95%B7%E5%BA%A6%E5%AD%97%E4%B8%B2"><span class="toc-number">5.2.1.</span> <span class="toc-text">固定長度字串</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%AF%E8%AE%8A%E9%95%B7%E5%BA%A6%E5%AD%97%E4%B8%B2"><span class="toc-number">5.2.2.</span> <span class="toc-text">可變長度字串</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Bit-%E4%B8%B2%E8%88%87-Boolean"><span class="toc-number">5.3.</span> <span class="toc-text">Bit 串與 Boolean</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Bit-string-data-types"><span class="toc-number">5.3.1.</span> <span class="toc-text">Bit-string data types</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Boolean-data-types"><span class="toc-number">5.3.2.</span> <span class="toc-text">Boolean data types</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#DATE-data-type"><span class="toc-number">5.3.3.</span> <span class="toc-text">DATE data type</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#TIME-data-type"><span class="toc-number">5.3.4.</span> <span class="toc-text">TIME data type</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Timestamp-DATETIME-data-type"><span class="toc-number">5.3.5.</span> <span class="toc-text">Timestamp(DATETIME) data type</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#INTERVAL%EF%BC%88%E6%99%82%E9%96%93%E5%8D%80%E9%96%93%EF%BC%89"><span class="toc-number">5.3.6.</span> <span class="toc-text">INTERVAL（時間區間）</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#BLOB-CLOB%EF%BC%88%E5%A4%A7%E5%9E%8B%E7%89%A9%E4%BB%B6%EF%BC%89"><span class="toc-number">5.4.</span> <span class="toc-text">BLOB &#x2F; CLOB（大型物件）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#BLOB-Data-Type-%EF%BC%88Binary-Large-Object%EF%BC%89"><span class="toc-number">5.4.1.</span> <span class="toc-text">BLOB Data Type （Binary Large Object）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#CLOB-Data-Type-%EF%BC%88Character-Large-Object%EF%BC%89"><span class="toc-number">5.4.2.</span> <span class="toc-text">CLOB Data Type （Character Large Object）</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Domain-TYPE%EF%BC%88%E8%87%AA%E8%A8%82%E5%9E%8B%E6%85%8B%EF%BC%89"><span class="toc-number">5.5.</span> <span class="toc-text">Domain &#x2F; TYPE（自訂型態）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Domain"><span class="toc-number">5.5.1.</span> <span class="toc-text">Domain</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%9A%E7%BE%A9%E4%B8%80%E5%80%8B-domain%EF%BC%8C%E5%BE%88%E5%A4%9A%E6%AC%84%E4%BD%8D%E9%83%BD%E5%8F%AF%E4%BB%A5%E7%94%A8%E5%AE%83%EF%BC%9B%E4%BB%A5%E5%BE%8C%E4%BD%A0%E6%83%B3%E6%94%B9%E5%9E%8B%E6%85%8B-%E8%A6%8F%E5%89%87%EF%BC%8C%E5%B0%B1%E6%94%B9-domain-%E5%8D%B3%E5%8F%AF"><span class="toc-number">5.6.</span> <span class="toc-text">定義一個 domain，很多欄位都可以用它；以後你想改型態&#x2F;規則，就改 domain 即可</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#TYPE%EF%BC%88UDT%EF%BC%9AUser-Defined-Type%EF%BC%89"><span class="toc-number">5.6.1.</span> <span class="toc-text">TYPE（UDT：User Defined Type）</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">6.</span> <span class="toc-text">Specifying Constraints in SQL</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#SQL-%E6%94%AF%E6%8F%B4%E7%9A%84%E3%80%8C%E4%B8%89%E5%A4%A7%E5%9F%BA%E6%9C%AC%E7%B4%84%E6%9D%9F%E3%80%8D"><span class="toc-number">6.1.</span> <span class="toc-text">SQL 支援的「三大基本約束」</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%AC%84%E4%BD%8D%E5%B1%A4%E7%B4%9A%E7%9A%84%E9%99%90%E5%88%B6%EF%BC%88DEFAULT-NOT-NULL-CHECK%EF%BC%89"><span class="toc-number">6.2.</span> <span class="toc-text">欄位層級的限制（DEFAULT &#x2F; NOT NULL &#x2F; CHECK）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#DEFAULT"><span class="toc-number">6.2.1.</span> <span class="toc-text">DEFAULT</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#NOT-NULL"><span class="toc-number">6.2.2.</span> <span class="toc-text">NOT NULL</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#CHECK"><span class="toc-number">6.2.3.</span> <span class="toc-text">CHECK</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#PRIMARY-KEY"><span class="toc-number">6.2.4.</span> <span class="toc-text">PRIMARY KEY</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#UNIQUE"><span class="toc-number">6.2.5.</span> <span class="toc-text">UNIQUE</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#FOREIGN-KEY-%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="toc-number">6.2.6.</span> <span class="toc-text">FOREIGN KEY 基本概念</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ON-DELETE-ON-UPDATE-%E5%90%84%E7%A8%AE%E5%8B%95%E4%BD%9C"><span class="toc-number">6.3.</span> <span class="toc-text">ON DELETE &#x2F; ON UPDATE 各種動作</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#ON-DELETE-%E2%80%A6"><span class="toc-number">6.3.1.</span> <span class="toc-text">ON DELETE …</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ON-UPDATE-%E2%80%A6"><span class="toc-number">6.3.2.</span> <span class="toc-text">ON UPDATE …</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">7.</span> <span class="toc-text">Constraint 命名與修改（Giving Names to Constraints）</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%82%BA%E4%BB%80%E9%BA%BC%E8%A6%81%E5%B9%AB-Constraint-%E5%8F%96%E5%90%8D%E5%AD%97%EF%BC%9F"><span class="toc-number">7.1.</span> <span class="toc-text">為什麼要幫 Constraint 取名字？</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AF%84%E4%BE%8B%EF%BC%9A%E5%9C%A8-CREATE-TABLE-%E6%99%82%E5%91%BD%E5%90%8D"><span class="toc-number">7.1.1.</span> <span class="toc-text">範例：在 CREATE TABLE 時命名</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8-ALTER-TABLE-%E4%BF%AE%E6%94%B9-Constraint"><span class="toc-number">7.2.</span> <span class="toc-text">使用 ALTER TABLE 修改 Constraint</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">8.</span> <span class="toc-text">Default 值與 Referential Integrity 搭配</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#DEFAULT-FOREIGN-KEY"><span class="toc-number">8.1.</span> <span class="toc-text">DEFAULT + FOREIGN KEY</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">9.</span> <span class="toc-text">Tuple 層級的限制（CHECK on Tuples）</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Table-level-CHECK%EF%BC%88%E8%B7%A8%E6%AC%84%E4%BD%8D%E6%AA%A2%E6%9F%A5%EF%BC%89"><span class="toc-number">9.1.</span> <span class="toc-text">Table-level CHECK（跨欄位檢查）</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">10.</span> <span class="toc-text">Basic Retrieval Queries（基本查詢）</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#SELECT-%E8%AA%9E%E5%8F%A5%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="toc-number">10.1.</span> <span class="toc-text">SELECT 語句基本概念</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#SELECT%E2%80%93FROM%E2%80%93WHERE-%E5%9F%BA%E6%9C%AC%E7%B5%90%E6%A7%8B"><span class="toc-number">10.2.</span> <span class="toc-text">SELECT–FROM–WHERE 基本結構</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#WHERE-%E5%B8%B8%E7%94%A8%E6%AF%94%E8%BC%83%E9%81%8B%E7%AE%97%E5%AD%90"><span class="toc-number">10.3.</span> <span class="toc-text">WHERE 常用比較運算子</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E6%9F%A5%E8%A9%A2%E7%AF%84%E4%BE%8B%E8%AA%AA%E6%98%8E"><span class="toc-number">10.4.</span> <span class="toc-text">基本查詢範例說明</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">11.</span> <span class="toc-text">Ambiguous Attribute Names（屬性名稱歧義）</span></a></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">12.</span> <span class="toc-text">Aliasing 與 Renaming（別名 &#x2F; 重新命名）</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Alias-tuple-variable"><span class="toc-number">12.1.</span> <span class="toc-text">Alias(tuple variable)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AF%84%E4%BE%8B%EF%BC%9A%E5%93%A1%E5%B7%A5-vs-%E4%B8%BB%E7%AE%A1%EF%BC%88%E5%90%8C%E4%B8%80%E5%BC%B5-EMPLOYEE-%E7%94%A8%E5%85%A9%E6%AC%A1%EF%BC%89"><span class="toc-number">12.2.</span> <span class="toc-text">範例：員工 vs 主管（同一張 EMPLOYEE 用兩次）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%AC%84%E4%BD%8D%E4%B9%9F%E5%8F%AF%E4%BB%A5%E6%94%B9%E5%90%8D%EF%BC%88Rename-attributes%EF%BC%89"><span class="toc-number">12.3.</span> <span class="toc-text">欄位也可以改名（Rename attributes）</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">13.</span> <span class="toc-text">沒寫 WHERE 與星號 *</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Missing-WHERE"><span class="toc-number">13.1.</span> <span class="toc-text">Missing WHERE</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%9A%E8%A1%A8%E4%BD%86%E6%B2%92-WHERE"><span class="toc-number">13.2.</span> <span class="toc-text">多表但沒 WHERE</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%98%9F%E8%99%9F"><span class="toc-number">13.3.</span> <span class="toc-text">星號*</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">14.</span> <span class="toc-text">Tables as Sets &#x2F; Bag（DISTINCT 與集合運算）</span></a></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">15.</span> <span class="toc-text">Set Operations（UNION &#x2F; INTERSECT &#x2F; EXCEPT）</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E7%A8%AE%E9%9B%86%E5%90%88%E9%81%8B%E7%AE%97%EF%BC%88Set-semantics%EF%BC%8C%E4%B8%8D%E5%85%81%E8%A8%B1%E9%87%8D%E8%A4%87%EF%BC%89"><span class="toc-number">15.1.</span> <span class="toc-text">三種集合運算（Set semantics，不允許重複）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Bag-Multiset-%E7%89%88%E6%9C%AC%EF%BC%88%E5%85%81%E8%A8%B1%E9%87%8D%E8%A4%87%EF%BC%89"><span class="toc-number">15.2.</span> <span class="toc-text">Bag&#x2F;Multiset 版本（允許重複）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E9%99%90%E5%88%B6%EF%BC%9AType-compatibility"><span class="toc-number">15.3.</span> <span class="toc-text">使用限制：Type compatibility</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">16.</span> <span class="toc-text">LIKE &#x2F; BETWEEN（字串樣式比對與區間條件）</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#LIKE%EF%BC%9A%E5%AD%97%E4%B8%B2-pattern-matching"><span class="toc-number">16.1.</span> <span class="toc-text">LIKE：字串 pattern matching</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#BETWEEN%EF%BC%9A%E7%AF%84%E5%9C%8D%E6%A2%9D%E4%BB%B6%EF%BC%88%E5%90%AB%E7%AB%AF%E9%BB%9E%EF%BC%89"><span class="toc-number">16.2.</span> <span class="toc-text">BETWEEN：範圍條件（含端點）</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">17.</span> <span class="toc-text">Arithmetic Operations</span></a></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">18.</span> <span class="toc-text">ORDER BY（查詢結果排序）</span></a></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">19.</span> <span class="toc-text">SQL 查詢語法總整理</span></a></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">20.</span> <span class="toc-text">INSERT &#x2F; DELETE &#x2F; UPDATE</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#DML%EF%BC%88%E6%94%B9%E8%B3%87%E6%96%99%EF%BC%89-%E7%9A%84%E6%A0%B8%E5%BF%83%E6%8C%87%E4%BB%A4%EF%BC%9A"><span class="toc-number">20.1.</span> <span class="toc-text">DML（改資料） 的核心指令：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#INSERT"><span class="toc-number">20.2.</span> <span class="toc-text">INSERT</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9C%80%E7%B0%A1%E5%96%AE-INSERT"><span class="toc-number">20.2.1.</span> <span class="toc-text">最簡單 INSERT</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%A0%E5%8F%AA%E6%83%B3%E5%A1%AB%E4%B8%80%E9%83%A8%E5%88%86%E6%AC%84%E4%BD%8D"><span class="toc-number">20.2.2.</span> <span class="toc-text">你只想填一部分欄位</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Bulk-Loading"><span class="toc-number">20.2.3.</span> <span class="toc-text">Bulk Loading</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#DELETE"><span class="toc-number">20.3.</span> <span class="toc-text">DELETE</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#DELETE-%E7%9A%84%E6%9C%AC%E8%B3%AA"><span class="toc-number">20.3.1.</span> <span class="toc-text">DELETE 的本質</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AF%84%E4%BE%8B"><span class="toc-number">20.3.2.</span> <span class="toc-text">範例</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#UPDATE"><span class="toc-number">20.4.</span> <span class="toc-text">UPDATE</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#UPDATE-%E5%9F%BA%E6%9C%AC%E7%B5%90%E6%A7%8B%EF%BC%88SET-WHERE%EF%BC%89"><span class="toc-number">20.4.1.</span> <span class="toc-text">UPDATE 基本結構（SET + WHERE）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#EXAMPLE"><span class="toc-number">20.4.2.</span> <span class="toc-text">EXAMPLE</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#UPDATE-%E5%AD%90%E6%9F%A5%E8%A9%A2-%E3%80%8C%E5%8F%B3%E9%82%8A%E8%88%8A%E5%80%BC%E3%80%81%E5%B7%A6%E9%82%8A%E6%96%B0%E5%80%BC%E3%80%8D%E6%A6%82%E5%BF%B5"><span class="toc-number">20.4.3.</span> <span class="toc-text">UPDATE + 子查詢 + 「右邊舊值、左邊新值」概念</span></a></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/posts/9cae78e1.html" title="[日文] 日文動詞各種活用型完整整理">[日文] 日文動詞各種活用型完整整理</a><time datetime="2026-01-06T06:00:00.000Z" title="發表於 2026-01-06 14:00:00">2026-01-06</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/posts/68d97251.html" title="[日文] 日文學習-初級4-文法">[日文] 日文學習-初級4-文法</a><time datetime="2026-01-06T05:00:00.000Z" title="發表於 2026-01-06 13:00:00">2026-01-06</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/posts/68d97251.html" title="[日文] 日文學習-初級3-文法">[日文] 日文學習-初級3-文法</a><time datetime="2026-01-05T07:00:00.000Z" title="發表於 2026-01-05 15:00:00">2026-01-05</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/posts/b7e00e1.html" title="[日文] 日文學習-初級3-單字">[日文] 日文學習-初級3-單字</a><time datetime="2026-01-05T07:00:00.000Z" title="發表於 2026-01-05 15:00:00">2026-01-05</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/posts/2afc752c.html" title="[日文] 日文學習-初級1-文法">[日文] 日文學習-初級1-文法</a><time datetime="2026-01-05T04:00:00.000Z" title="發表於 2026-01-05 12:00:00">2026-01-05</time></div></div></div></div><div class="card-widget ads-wrap"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5975504062599634" crossorigin="anonymous"></script> <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-5975504062599634" data-ad-slot="9206833147" data-ad-format="auto" data-full-width-responsive="true"></ins> <script> (adsbygoogle = window.adsbygoogle || []).push({}); </script></div></div></div></main><footer id="footer" style="background-image: url(/img/nav_Picture.jpg);"><div class="footer-other"><div class="footer-copyright"><span class="copyright">&copy;&nbsp;2025 - 2026 By YowDesert</span><span class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo 7.3.0</a><span class="footer-separator">|</span><span>主題 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly 5.5.2</a></span></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="閱讀模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="日夜模式切換"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="單欄和雙欄切換"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="設定"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目錄"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到頂端"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=5.5.2"></script><script src="/js/main.js?v=5.5.2"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@6.1.4/dist/fancybox/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@5.2.0/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar@0.1.16/dist/snackbar.min.js"></script><div class="js-pjax"><script>(() => {
  const loadMathjax = () => {
    if (!window.MathJax) {
      window.MathJax = {
        loader: {
          load: [
            // Four font extension packages (optional)
            //- '[tex]/bbm',
            //- '[tex]/bboldx',
            //- '[tex]/dsfont',
            '[tex]/mhchem'
          ],
          paths: {
            'mathjax-newcm': '[mathjax]/../@mathjax/mathjax-newcm-font',

            //- // Four font extension packages (optional)
            //- 'mathjax-bbm-extension': '[mathjax]/../@mathjax/mathjax-bbm-font-extension',
            //- 'mathjax-bboldx-extension': '[mathjax]/../@mathjax/mathjax-bboldx-font-extension',
            //- 'mathjax-dsfont-extension': '[mathjax]/../@mathjax/mathjax-dsfont-font-extension',
            'mathjax-mhchem-extension': '[mathjax]/../@mathjax/mathjax-mhchem-font-extension'
          }
        },
        output: {
          font: 'mathjax-newcm',
        },
        tex: {
          inlineMath: [['$', '$'], ['\\(', '\\)']],
          tags: 'none',
          packages: {
            '[+]': [
              'mhchem'
            ]
          }
        },
        chtml: {
          scale: 1.1
        },
        options: {
          enableMenu: true,
          menuOptions: {
            settings: {
              enrich: false  // Turn off Braille and voice narration text automatic generation
            }
          },
          renderActions: {
            findScript: [10, doc => {
              for (const node of document.querySelectorAll('script[type^="math/tex"]')) {
                const display = !!node.type.match(/; *mode=display/)
                const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display)
                const text = document.createTextNode('')
                node.parentNode.replaceChild(text, node)
                math.start = {node: text, delim: '', n: 0}
                math.end = {node: text, delim: '', n: 0}
                doc.math.push(math)
              }
            }, '']
          }
        }
      }

      const script = document.createElement('script')
      script.src = 'https://cdn.jsdelivr.net/npm/mathjax@4.0.0/tex-mml-chtml.min.js'
      script.id = 'MathJax-script'
      script.async = true
      document.head.appendChild(script)
    } else {
      MathJax.startup.document.state(0)
      MathJax.texReset()
      MathJax.typesetPromise()
    }
  }

  btf.addGlobalFn('encrypt', loadMathjax, 'mathjax')
  window.pjax ? loadMathjax() : window.addEventListener('load', loadMathjax)
})()</script></div><script async data-pjax src="/"></script></div></body></html>